# 営業日報システム テスト仕様書

## 1. テスト概要

### 1.1 目的

本テスト仕様書は、営業日報システムの品質を保証するため、システムの各機能が要件定義通りに動作することを検証する。

### 1.2 テスト対象

- 営業日報システム 全機能
- 対象バージョン: 1.0.0

### 1.3 テスト実施者

- 開発チーム
- QAチーム

---

## 2. テスト方針

### 2.1 テストレベル

| レベル         | 説明                           | 実施者              |
| -------------- | ------------------------------ | ------------------- |
| 単体テスト     | 個別の関数・メソッドの動作確認 | 開発者              |
| 結合テスト     | モジュール間の連携確認         | 開発者              |
| システムテスト | システム全体の動作確認         | QAチーム            |
| 受け入れテスト | ユーザー視点での動作確認       | ユーザー + QAチーム |

### 2.2 テスト種別

- 機能テスト：各機能が要件通りに動作するか
- 画面テスト：画面表示・遷移が正しいか
- 権限テスト：権限制御が正しく機能するか
- バリデーションテスト：入力チェックが正しく機能するか
- 異常系テスト：エラー処理が適切か
- 非機能テスト：パフォーマンス、セキュリティなど

### 2.3 優先度定義

| 優先度 | 説明                                             |
| ------ | ------------------------------------------------ |
| 高     | システムの基本機能、致命的な不具合につながる項目 |
| 中     | 重要な機能、業務に支障をきたす項目               |
| 低     | 補助的な機能、使い勝手に関わる項目               |

---

## 3. テスト環境

### 3.1 ハードウェア環境

- PC（Windows 11 / macOS）
- タブレット（iPad）
- スマートフォン（iPhone、Android）

### 3.2 ソフトウェア環境

- ブラウザ
  - Google Chrome（最新版）
  - Microsoft Edge（最新版）
  - Safari（最新版）
  - Firefox（最新版）
- データベース：PostgreSQL / MySQL
- Webサーバー：Nginx / Apache

### 3.3 テストデータ

- ユーザーマスタ：営業5名、上長2名、管理者1名
- 顧客マスタ：20件
- 日報データ：過去30日分

---

## 4. テストケース一覧

### 4.1 ログイン機能（SC-001）

| ID         | テスト項目           | 優先度 | 区分   | テスト手順                                                                                                                     | 期待結果                                                                       |
| ---------- | -------------------- | ------ | ------ | ------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------ |
| TC-001-001 | 正常ログイン         | 高     | 正常系 | 1. ログイン画面を表示<br>2. 正しいメールアドレスとパスワードを入力<br>3. ログインボタンをクリック                              | ダッシュボード画面に遷移する                                                   |
| TC-001-002 | メールアドレス未入力 | 高     | 異常系 | 1. ログイン画面を表示<br>2. メールアドレスを未入力<br>3. パスワードを入力<br>4. ログインボタンをクリック                       | 「メールアドレスを入力してください」エラーメッセージが表示される               |
| TC-001-003 | パスワード未入力     | 高     | 異常系 | 1. ログイン画面を表示<br>2. メールアドレスを入力<br>3. パスワードを未入力<br>4. ログインボタンをクリック                       | 「パスワードを入力してください」エラーメッセージが表示される                   |
| TC-001-004 | メール形式不正       | 中     | 異常系 | 1. ログイン画面を表示<br>2. 不正な形式のメールアドレスを入力（例：test）<br>3. パスワードを入力<br>4. ログインボタンをクリック | 「正しいメールアドレス形式で入力してください」エラーメッセージが表示される     |
| TC-001-005 | 認証失敗             | 高     | 異常系 | 1. ログイン画面を表示<br>2. 存在しないメールアドレスを入力<br>3. パスワードを入力<br>4. ログインボタンをクリック               | 「メールアドレスまたはパスワードが間違っています」エラーメッセージが表示される |
| TC-001-006 | パスワード誤り       | 高     | 異常系 | 1. ログイン画面を表示<br>2. 正しいメールアドレスを入力<br>3. 誤ったパスワードを入力<br>4. ログインボタンをクリック             | 「メールアドレスまたはパスワードが間違っています」エラーメッセージが表示される |
| TC-001-007 | ログアウト           | 高     | 正常系 | 1. ログイン後、ヘッダーのログアウトボタンをクリック                                                                            | ログイン画面に遷移し、セッションがクリアされる                                 |

---

### 4.2 ダッシュボード（SC-002）

| ID         | テスト項目                 | 優先度 | 区分   | テスト手順                                                                                         | 期待結果                                               |
| ---------- | -------------------------- | ------ | ------ | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------ |
| TC-002-001 | 営業の日報一覧表示         | 高     | 正常系 | 1. 営業ユーザーでログイン<br>2. ダッシュボードを表示                                               | 自分の日報一覧が表示される（直近30日）                 |
| TC-002-002 | 上長の日報一覧表示         | 高     | 正常系 | 1. 上長ユーザーでログイン<br>2. ダッシュボードを表示                                               | 配下の営業の日報一覧が表示される（直近30日、全担当者） |
| TC-002-003 | 日付範囲検索               | 中     | 正常系 | 1. ダッシュボードを表示<br>2. 検索条件で日付範囲を指定<br>3. 検索ボタンをクリック                  | 指定した日付範囲の日報が表示される                     |
| TC-002-004 | 担当者検索（上長）         | 中     | 正常系 | 1. 上長ユーザーでログイン<br>2. ダッシュボードを表示<br>3. 担当者を選択<br>4. 検索ボタンをクリック | 選択した担当者の日報のみが表示される                   |
| TC-002-005 | 検索条件クリア             | 低     | 正常系 | 1. ダッシュボードで検索条件を入力<br>2. クリアボタンをクリック                                     | 検索条件がクリアされ、デフォルト表示に戻る             |
| TC-002-006 | 日報詳細遷移               | 高     | 正常系 | 1. ダッシュボードで日報を選択<br>2. 詳細ボタンをクリック                                           | 日報詳細画面に遷移する                                 |
| TC-002-007 | 日報編集遷移（当日）       | 高     | 正常系 | 1. ダッシュボードで当日の日報を選択<br>2. 編集ボタンをクリック                                     | 日報編集画面に遷移する                                 |
| TC-002-008 | 編集ボタン非表示（過去日） | 高     | 正常系 | 1. ダッシュボードで過去の日報を表示                                                                | 編集ボタンが表示されない（状態が「確定」）             |
| TC-002-009 | ページング動作             | 中     | 正常系 | 1. 日報が20件以上ある状態でダッシュボードを表示<br>2. ページ番号をクリック                         | 指定したページの日報一覧が表示される                   |
| TC-002-010 | ソート機能                 | 低     | 正常系 | 1. ダッシュボードを表示<br>2. 各列のヘッダーをクリック                                             | クリックした列でソートされる                           |

---

### 4.3 日報作成機能（SC-003）

| ID         | テスト項目             | 優先度 | 区分   | テスト手順                                                                                             | 期待結果                                                                    |
| ---------- | ---------------------- | ------ | ------ | ------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------- |
| TC-003-001 | 日報作成（最小構成）   | 高     | 正常系 | 1. 日報作成画面を表示<br>2. 訪問記録を1件追加（顧客選択、訪問内容入力）<br>3. 保存ボタンをクリック     | 日報が保存され、ダッシュボードに遷移、成功メッセージが表示される            |
| TC-003-002 | 日報作成（全項目入力） | 高     | 正常系 | 1. 日報作成画面を表示<br>2. 訪問記録を複数件追加<br>3. Problem、Planを入力<br>4. 保存ボタンをクリック  | 日報が保存され、すべての項目が正しく登録される                              |
| TC-003-003 | 日報日付デフォルト値   | 中     | 正常系 | 1. 日報作成画面を表示                                                                                  | 日報日付に今日の日付が設定されている                                        |
| TC-003-004 | 訪問記録追加           | 高     | 正常系 | 1. 日報作成画面を表示<br>2. 訪問記録追加ボタンをクリック                                               | 新しい訪問記録入力欄が追加される（訪問順序が自動採番）                      |
| TC-003-005 | 訪問記録削除           | 高     | 正常系 | 1. 日報作成画面で訪問記録を複数追加<br>2. 訪問記録の削除ボタンをクリック                               | 該当の訪問記録が削除される、訪問順序が再採番される                          |
| TC-003-006 | 日報日付未入力         | 高     | 異常系 | 1. 日報作成画面を表示<br>2. 日報日付をクリア<br>3. 保存ボタンをクリック                                | 「日報日付を入力してください」エラーメッセージが表示される                  |
| TC-003-007 | 未来日選択             | 高     | 異常系 | 1. 日報作成画面を表示<br>2. 日報日付に未来の日付を設定<br>3. 保存ボタンをクリック                      | 「未来の日付は選択できません」エラーメッセージが表示される                  |
| TC-003-008 | 日報日付重複           | 高     | 異常系 | 1. 既に日報が存在する日付を選択<br>2. 保存ボタンをクリック                                             | 「この日付の日報は既に作成されています」エラーメッセージが表示される        |
| TC-003-009 | 訪問記録0件            | 高     | 異常系 | 1. 日報作成画面を表示<br>2. 訪問記録を追加しない<br>3. 保存ボタンをクリック                            | 「訪問記録を少なくとも1件追加してください」エラーメッセージが表示される     |
| TC-003-010 | 顧客未選択             | 高     | 異常系 | 1. 日報作成画面で訪問記録を追加<br>2. 顧客を選択しない<br>3. 訪問内容を入力<br>4. 保存ボタンをクリック | 「顧客を選択してください」エラーメッセージが表示される                      |
| TC-003-011 | 訪問内容未入力         | 高     | 異常系 | 1. 日報作成画面で訪問記録を追加<br>2. 顧客を選択<br>3. 訪問内容を未入力<br>4. 保存ボタンをクリック     | 「訪問内容を入力してください」エラーメッセージが表示される                  |
| TC-003-012 | 訪問内容文字数超過     | 中     | 異常系 | 1. 日報作成画面で訪問記録を追加<br>2. 訪問内容に1001文字以上入力<br>3. 保存ボタンをクリック            | 「訪問内容は1000文字以内で入力してください」エラーメッセージが表示される    |
| TC-003-013 | Problem文字数超過      | 中     | 異常系 | 1. 日報作成画面を表示<br>2. Problemに501文字以上入力<br>3. 保存ボタンをクリック                        | 「課題・相談は500文字以内で入力してください」エラーメッセージが表示される   |
| TC-003-014 | Plan文字数超過         | 中     | 異常系 | 1. 日報作成画面を表示<br>2. Planに501文字以上入力<br>3. 保存ボタンをクリック                           | 「明日やることは500文字以内で入力してください」エラーメッセージが表示される |
| TC-003-015 | キャンセル             | 中     | 正常系 | 1. 日報作成画面で入力<br>2. キャンセルボタンをクリック                                                 | ダッシュボードに遷移する（データは保存されない）                            |
| TC-003-016 | 顧客マスタから選択     | 高     | 正常系 | 1. 日報作成画面で訪問記録を追加<br>2. 顧客ドロップダウンを開く                                         | 顧客マスタの顧客が一覧表示される                                            |

---

### 4.4 日報編集機能（SC-004）

| ID         | テスト項目             | 優先度 | 区分   | テスト手順                                                                            | 期待結果                                                                       |
| ---------- | ---------------------- | ------ | ------ | ------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------ |
| TC-004-001 | 当日の日報編集         | 高     | 正常系 | 1. 当日の日報の編集画面を表示<br>2. 各項目を編集<br>3. 保存ボタンをクリック           | 日報が更新され、日報詳細画面に遷移、成功メッセージが表示される                 |
| TC-004-002 | 既存データ表示         | 高     | 正常系 | 1. 既存の日報の編集画面を表示                                                         | 既存のデータがすべて表示される                                                 |
| TC-004-003 | 訪問記録追加（編集時） | 中     | 正常系 | 1. 日報編集画面を表示<br>2. 訪問記録追加ボタンをクリック<br>3. 保存ボタンをクリック   | 新しい訪問記録が追加される                                                     |
| TC-004-004 | 訪問記録削除（編集時） | 中     | 正常系 | 1. 日報編集画面を表示<br>2. 訪問記録の削除ボタンをクリック<br>3. 保存ボタンをクリック | 該当の訪問記録が削除される                                                     |
| TC-004-005 | 日報日付変更不可       | 高     | 正常系 | 1. 日報編集画面を表示                                                                 | 日報日付が表示のみで変更できない                                               |
| TC-004-006 | 過去日の日報編集試行   | 高     | 異常系 | 1. 過去の日報の編集画面をURL直接入力で表示試行                                        | 「当日の日報のみ編集できます」エラーメッセージが表示され、ダッシュボードに遷移 |
| TC-004-007 | 編集時バリデーション   | 高     | 異常系 | 1. 日報編集画面を表示<br>2. 訪問記録をすべて削除<br>3. 保存ボタンをクリック           | 「訪問記録を少なくとも1件追加してください」エラーメッセージが表示される        |
| TC-004-008 | キャンセル（編集）     | 中     | 正常系 | 1. 日報編集画面で変更<br>2. キャンセルボタンをクリック                                | ダッシュボードに遷移する（変更は保存されない）                                 |

---

### 4.5 日報詳細・コメント機能（SC-005）

| ID         | テスト項目                   | 優先度 | 区分   | テスト手順                                                                                                             | 期待結果                                                                 |
| ---------- | ---------------------------- | ------ | ------ | ---------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------ |
| TC-005-001 | 日報詳細表示                 | 高     | 正常系 | 1. ダッシュボードから日報を選択<br>2. 詳細ボタンをクリック                                                             | 日報の詳細情報がすべて表示される                                         |
| TC-005-002 | 訪問記録一覧表示             | 高     | 正常系 | 1. 日報詳細画面を表示                                                                                                  | 訪問記録が訪問順序順に表示される                                         |
| TC-005-003 | コメント一覧表示             | 高     | 正常系 | 1. コメントがある日報の詳細画面を表示                                                                                  | コメントが投稿日時順に表示される                                         |
| TC-005-004 | コメント投稿（上長）         | 高     | 正常系 | 1. 上長ユーザーでログイン<br>2. 配下の営業の日報詳細画面を表示<br>3. コメントを入力<br>4. コメント投稿ボタンをクリック | コメントが投稿され、コメント一覧に追加表示される                         |
| TC-005-005 | コメント入力欄非表示（営業） | 高     | 正常系 | 1. 営業ユーザーでログイン<br>2. 自分の日報詳細画面を表示                                                               | コメント入力欄が表示されない                                             |
| TC-005-006 | コメント未入力               | 高     | 異常系 | 1. 上長ユーザーでログイン<br>2. 日報詳細画面を表示<br>3. コメントを未入力<br>4. コメント投稿ボタンをクリック           | 「コメント内容を入力してください」エラーメッセージが表示される           |
| TC-005-007 | コメント文字数超過           | 中     | 異常系 | 1. 上長ユーザーでログイン<br>2. 日報詳細画面を表示<br>3. コメントに1001文字以上入力<br>4. コメント投稿ボタンをクリック | 「コメントは1000文字以内で入力してください」エラーメッセージが表示される |
| TC-005-008 | コメント編集                 | 中     | 正常系 | 1. 上長ユーザーでログイン<br>2. 自分が投稿したコメントの編集ボタンをクリック<br>3. コメントを編集<br>4. 保存           | コメントが更新される                                                     |
| TC-005-009 | コメント削除                 | 中     | 正常系 | 1. 上長ユーザーでログイン<br>2. 自分が投稿したコメントの削除ボタンをクリック<br>3. 確認ダイアログでOK                  | コメントが削除される（論理削除）                                         |
| TC-005-010 | 他人のコメント編集不可       | 高     | 正常系 | 1. 上長ユーザーでログイン<br>2. 他の上長が投稿したコメントを表示                                                       | 編集・削除ボタンが表示されない                                           |
| TC-005-011 | 編集ボタン表示（当日）       | 高     | 正常系 | 1. 営業ユーザーでログイン<br>2. 当日の日報詳細画面を表示                                                               | 編集ボタンが表示される                                                   |
| TC-005-012 | 編集ボタン非表示（過去日）   | 高     | 正常系 | 1. 営業ユーザーでログイン<br>2. 過去の日報詳細画面を表示                                                               | 編集ボタンが表示されない                                                 |
| TC-005-013 | 戻るボタン                   | 中     | 正常系 | 1. 日報詳細画面を表示<br>2. 戻るボタンをクリック                                                                       | ダッシュボードに遷移する                                                 |

---

### 4.6 顧客マスタ機能（SC-006, SC-007）

| ID         | テスト項目             | 優先度 | 区分   | テスト手順                                                                  | 期待結果                               |
| ---------- | ---------------------- | ------ | ------ | --------------------------------------------------------------------------- | -------------------------------------- |
| TC-006-001 | 顧客マスタ一覧表示     | 高     | 正常系 | 1. ナビゲーションメニューから顧客マスタを選択                               | 顧客マスタ一覧画面が表示される         |
| TC-006-002 | 会社名検索             | 中     | 正常系 | 1. 顧客マスタ一覧画面を表示<br>2. 会社名を入力<br>3. 検索ボタンをクリック   | 会社名が部分一致する顧客が表示される   |
| TC-006-003 | 顧客名検索             | 中     | 正常系 | 1. 顧客マスタ一覧画面を表示<br>2. 顧客名を入力<br>3. 検索ボタンをクリック   | 顧客名が部分一致する顧客が表示される   |
| TC-006-004 | 担当営業検索           | 中     | 正常系 | 1. 顧客マスタ一覧画面を表示<br>2. 担当営業を選択<br>3. 検索ボタンをクリック | 選択した担当営業の顧客のみが表示される |
| TC-006-005 | 検索条件クリア         | 低     | 正常系 | 1. 顧客マスタ一覧画面で検索条件を入力<br>2. クリアボタンをクリック          | 検索条件がクリアされ、全件表示される   |
| TC-006-006 | 顧客詳細表示           | 高     | 正常系 | 1. 顧客マスタ一覧から顧客を選択<br>2. 詳細ボタンをクリック                  | 顧客詳細画面が表示される               |
| TC-006-007 | 顧客詳細内容確認       | 高     | 正常系 | 1. 顧客詳細画面を表示                                                       | すべての顧客情報が正しく表示される     |
| TC-006-008 | 戻るボタン（顧客詳細） | 中     | 正常系 | 1. 顧客詳細画面を表示<br>2. 戻るボタンをクリック                            | 顧客マスタ一覧画面に遷移する           |
| TC-006-009 | ページング動作         | 中     | 正常系 | 1. 顧客が20件以上ある状態で一覧を表示<br>2. ページ番号をクリック            | 指定したページの顧客一覧が表示される   |
| TC-006-010 | ソート機能             | 低     | 正常系 | 1. 顧客マスタ一覧画面を表示<br>2. ソート可能な列のヘッダーをクリック        | クリックした列でソートされる           |

---

### 4.7 ユーザーマスタ機能（SC-008）

| ID         | テスト項目                       | 優先度 | 区分   | テスト手順                                                                               | 期待結果                                         |
| ---------- | -------------------------------- | ------ | ------ | ---------------------------------------------------------------------------------------- | ------------------------------------------------ |
| TC-007-001 | ユーザーマスタ表示（管理者）     | 高     | 正常系 | 1. 管理者ユーザーでログイン<br>2. ナビゲーションメニューからユーザーマスタを選択         | ユーザーマスタ一覧画面が表示される               |
| TC-007-002 | ユーザーマスタ非表示（非管理者） | 高     | 正常系 | 1. 営業または上長ユーザーでログイン<br>2. ナビゲーションメニューを確認                   | ユーザーマスタメニューが表示されない             |
| TC-007-003 | 氏名検索                         | 中     | 正常系 | 1. ユーザーマスタ一覧画面を表示<br>2. 氏名を入力<br>3. 検索ボタンをクリック              | 氏名が部分一致するユーザーが表示される           |
| TC-007-004 | メールアドレス検索               | 中     | 正常系 | 1. ユーザーマスタ一覧画面を表示<br>2. メールアドレスを入力<br>3. 検索ボタンをクリック    | メールアドレスが部分一致するユーザーが表示される |
| TC-007-005 | 役割検索                         | 中     | 正常系 | 1. ユーザーマスタ一覧画面を表示<br>2. 役割を選択（営業/上長）<br>3. 検索ボタンをクリック | 選択した役割のユーザーのみが表示される           |
| TC-007-006 | 状態検索                         | 中     | 正常系 | 1. ユーザーマスタ一覧画面を表示<br>2. 状態を選択（有効/無効）<br>3. 検索ボタンをクリック | 選択した状態のユーザーのみが表示される           |
| TC-007-007 | 上長表示（営業）                 | 中     | 正常系 | 1. ユーザーマスタ一覧画面を表示<br>2. 役割が営業のユーザーを確認                         | 上長列に上長の氏名が表示される                   |
| TC-007-008 | 上長非表示（上長）               | 中     | 正常系 | 1. ユーザーマスタ一覧画面を表示<br>2. 役割が上長のユーザーを確認                         | 上長列が空白または「-」が表示される              |

---

### 4.8 権限制御テスト

| ID         | テスト項目                 | 優先度 | 区分   | テスト手順                                                          | 期待結果                             |
| ---------- | -------------------------- | ------ | ------ | ------------------------------------------------------------------- | ------------------------------------ |
| TC-008-001 | 営業：自分の日報のみ閲覧   | 高     | 正常系 | 1. 営業ユーザーでログイン<br>2. ダッシュボードを表示                | 自分の日報のみが表示される           |
| TC-008-002 | 営業：他人の日報閲覧不可   | 高     | 正常系 | 1. 営業ユーザーでログイン<br>2. 他の営業の日報IDを直接URL指定       | エラーまたはアクセス拒否される       |
| TC-008-003 | 上長：配下の営業のみ閲覧   | 高     | 正常系 | 1. 上長ユーザーでログイン<br>2. ダッシュボードを表示                | 配下の営業の日報のみが表示される     |
| TC-008-004 | 上長：他部署の日報閲覧不可 | 高     | 正常系 | 1. 上長ユーザーでログイン<br>2. 他部署の営業の日報IDを直接URL指定   | エラーまたはアクセス拒否される       |
| TC-008-005 | 営業：コメント投稿不可     | 高     | 正常系 | 1. 営業ユーザーでログイン<br>2. 自分の日報詳細画面を表示            | コメント投稿機能が表示されない       |
| TC-008-006 | 上長：コメント投稿可能     | 高     | 正常系 | 1. 上長ユーザーでログイン<br>2. 配下の営業の日報詳細画面を表示      | コメント投稿機能が表示される         |
| TC-008-007 | 営業：他人の日報編集不可   | 高     | 正常系 | 1. 営業ユーザーでログイン<br>2. 他の営業の日報編集画面を直接URL指定 | エラーまたはアクセス拒否される       |
| TC-008-008 | 管理者メニュー表示制御     | 高     | 正常系 | 1. 営業/上長ユーザーでログイン<br>2. ナビゲーションメニューを確認   | ユーザーマスタメニューが表示されない |
| TC-008-009 | 未ログイン時アクセス制御   | 高     | 正常系 | 1. ログインせずに各画面のURLに直接アクセス                          | ログイン画面にリダイレクトされる     |

---

### 4.9 画面遷移テスト

| ID         | テスト項目                            | 優先度 | 区分   | テスト手順                                  | 期待結果                     |
| ---------- | ------------------------------------- | ------ | ------ | ------------------------------------------- | ---------------------------- |
| TC-009-001 | ログイン→ダッシュボード               | 高     | 正常系 | 1. ログイン成功                             | ダッシュボードに遷移する     |
| TC-009-002 | ダッシュボード→日報作成               | 高     | 正常系 | 1. ダッシュボードで日報作成ボタンをクリック | 日報作成画面に遷移する       |
| TC-009-003 | ダッシュボード→日報詳細               | 高     | 正常系 | 1. ダッシュボードで詳細ボタンをクリック     | 日報詳細画面に遷移する       |
| TC-009-004 | ダッシュボード→日報編集               | 高     | 正常系 | 1. ダッシュボードで編集ボタンをクリック     | 日報編集画面に遷移する       |
| TC-009-005 | 日報作成→ダッシュボード（保存）       | 高     | 正常系 | 1. 日報作成画面で保存                       | ダッシュボードに遷移する     |
| TC-009-006 | 日報作成→ダッシュボード（キャンセル） | 中     | 正常系 | 1. 日報作成画面でキャンセル                 | ダッシュボードに遷移する     |
| TC-009-007 | 日報編集→日報詳細（保存）             | 高     | 正常系 | 1. 日報編集画面で保存                       | 日報詳細画面に遷移する       |
| TC-009-008 | 日報詳細→日報編集                     | 高     | 正常系 | 1. 日報詳細画面で編集ボタンをクリック       | 日報編集画面に遷移する       |
| TC-009-009 | ダッシュボード→顧客マスタ             | 高     | 正常系 | 1. ナビゲーションメニューで顧客マスタを選択 | 顧客マスタ一覧画面に遷移する |
| TC-009-010 | 顧客マスタ一覧→詳細                   | 高     | 正常系 | 1. 顧客マスタ一覧で詳細ボタンをクリック     | 顧客マスタ詳細画面に遷移する |
| TC-009-011 | ブラウザバック動作                    | 中     | 正常系 | 1. 各画面でブラウザの戻るボタンをクリック   | 正常に前の画面に戻る         |

---

### 4.10 非機能テスト

#### 4.10.1 パフォーマンステスト

| ID         | テスト項目       | 優先度 | 区分 | テスト手順                                                               | 期待結果                                  |
| ---------- | ---------------- | ------ | ---- | ------------------------------------------------------------------------ | ----------------------------------------- |
| TC-010-001 | 日報一覧表示速度 | 高     | 性能 | 1. 日報データが100件ある状態でダッシュボードを表示<br>2. 表示時間を計測  | 3秒以内に表示される                       |
| TC-010-002 | 日報作成時間     | 中     | 性能 | 1. 日報作成画面で入力<br>2. 保存ボタンをクリック<br>3. 処理時間を計測    | 2秒以内に完了する                         |
| TC-010-003 | 検索応答時間     | 中     | 性能 | 1. ダッシュボードで検索を実行<br>2. 応答時間を計測                       | 3秒以内に結果が表示される                 |
| TC-010-004 | 同時ログイン数   | 高     | 性能 | 1. 50ユーザーが同時にログイン<br>2. 各ユーザーの応答時間を計測           | すべてのユーザーが5秒以内にログインできる |
| TC-010-005 | 大量データ表示   | 中     | 性能 | 1. 日報データが1000件ある状態でページング<br>2. 各ページの表示時間を計測 | 各ページが3秒以内に表示される             |

#### 4.10.2 セキュリティテスト

| ID         | テスト項目              | 優先度 | 区分         | テスト手順                                                     | 期待結果                                                   |
| ---------- | ----------------------- | ------ | ------------ | -------------------------------------------------------------- | ---------------------------------------------------------- |
| TC-011-001 | SQLインジェクション対策 | 高     | セキュリティ | 1. 入力欄にSQL文を入力<br>2. 保存または検索を実行              | SQL文が実行されず、エスケープ処理される                    |
| TC-011-002 | XSS対策                 | 高     | セキュリティ | 1. 入力欄にスクリプトタグを含む文字列を入力<br>2. 保存して表示 | スクリプトが実行されず、エスケープ表示される               |
| TC-011-003 | CSRF対策                | 高     | セキュリティ | 1. CSRFトークンなしでPOSTリクエストを送信                      | リクエストが拒否される                                     |
| TC-011-004 | パスワードハッシュ化    | 高     | セキュリティ | 1. ユーザー登録時のパスワードをDB確認                          | パスワードがハッシュ化されて保存されている                 |
| TC-011-005 | セッションタイムアウト  | 中     | セキュリティ | 1. ログイン後、一定時間（例：30分）操作しない<br>2. 操作を試行 | セッションタイムアウトし、ログイン画面にリダイレクトされる |
| TC-011-006 | HTTPS通信               | 高     | セキュリティ | 1. HTTPでアクセスを試行                                        | HTTPSにリダイレクトされる                                  |
| TC-011-007 | 認証なしアクセス        | 高     | セキュリティ | 1. ログアウト状態で各画面のURLに直接アクセス                   | ログイン画面にリダイレクトされる                           |

#### 4.10.3 ユーザビリティテスト

| ID         | テスト項目                     | 優先度 | 区分  | テスト手順                                         | 期待結果                                           |
| ---------- | ------------------------------ | ------ | ----- | -------------------------------------------------- | -------------------------------------------------- |
| TC-012-001 | レスポンシブ表示（タブレット） | 中     | UI/UX | 1. タブレット（iPad）でアクセス<br>2. 各画面を表示 | レイアウトが崩れず、操作可能                       |
| TC-012-002 | レスポンシブ表示（スマホ）     | 中     | UI/UX | 1. スマートフォンでアクセス<br>2. 各画面を表示     | レイアウトが崩れず、操作可能                       |
| TC-012-003 | エラーメッセージの明瞭性       | 中     | UI/UX | 1. 各種エラーを発生させる                          | ユーザーが理解しやすいエラーメッセージが表示される |
| TC-012-004 | 成功メッセージの表示           | 低     | UI/UX | 1. 日報保存などの操作を実行                        | 成功メッセージが表示され、3秒後に自動で消える      |
| TC-012-005 | ブラウザ互換性（Chrome）       | 高     | UI/UX | 1. Google Chromeで全画面を表示                     | すべての機能が正常に動作する                       |
| TC-012-006 | ブラウザ互換性（Edge）         | 高     | UI/UX | 1. Microsoft Edgeで全画面を表示                    | すべての機能が正常に動作する                       |
| TC-012-007 | ブラウザ互換性（Safari）       | 高     | UI/UX | 1. Safariで全画面を表示                            | すべての機能が正常に動作する                       |
| TC-012-008 | ブラウザ互換性（Firefox）      | 中     | UI/UX | 1. Firefoxで全画面を表示                           | すべての機能が正常に動作する                       |

#### 4.10.4 データ整合性テスト

| ID         | テスト項目             | 優先度 | 区分   | テスト手順                                   | 期待結果                                                   |
| ---------- | ---------------------- | ------ | ------ | -------------------------------------------- | ---------------------------------------------------------- |
| TC-013-001 | 日報一意性制約         | 高     | データ | 1. 同じ日付で2つ目の日報を作成試行           | エラーメッセージが表示され、保存されない                   |
| TC-013-002 | 論理削除確認           | 高     | データ | 1. コメントを削除<br>2. データベースを確認   | is_deletedフラグがtrueになっている（物理削除されていない） |
| TC-013-003 | カスケード削除         | 高     | データ | 1. 日報を削除<br>2. 関連する訪問記録をDB確認 | 訪問記録も削除されている                                   |
| TC-013-004 | 外部キー制約           | 高     | データ | 1. 存在しない顧客IDで訪問記録を保存試行      | エラーが発生し、保存されない                               |
| TC-013-005 | タイムスタンプ自動更新 | 中     | データ | 1. 日報を編集して保存<br>2. updated_atを確認 | updated_atが更新されている                                 |

---

## 5. テスト実施スケジュール

| フェーズ       | 開始日 | 終了日 | 実施者              | 備考                 |
| -------------- | ------ | ------ | ------------------- | -------------------- |
| 単体テスト     | TBD    | TBD    | 開発者              | コード実装と並行     |
| 結合テスト     | TBD    | TBD    | 開発者              | モジュール統合後     |
| システムテスト | TBD    | TBD    | QAチーム            | 優先度：高→中→低の順 |
| 非機能テスト   | TBD    | TBD    | QAチーム            | システムテストと並行 |
| 受け入れテスト | TBD    | TBD    | ユーザー + QAチーム | システムテスト完了後 |

---

## 6. 不具合管理

### 6.1 不具合優先度

| 優先度 | 説明                                     | 対応期限     |
| ------ | ---------------------------------------- | ------------ |
| 致命的 | システムが動作しない、データが破壊される | 即座         |
| 高     | 主要機能が使用できない                   | 24時間以内   |
| 中     | 機能に支障があるが回避策がある           | 1週間以内    |
| 低     | 使い勝手の問題、軽微な表示崩れ           | 次回リリース |

### 6.2 不具合報告項目

- 不具合ID
- 発見日時
- 発見者
- テストケースID
- 優先度
- 不具合内容
- 再現手順
- 期待結果
- 実際の結果
- スクリーンショット
- 環境情報（ブラウザ、OS等）

---

## 7. テスト完了基準

### 7.1 システムテスト完了基準

- 優先度「高」のテストケースが100%完了
- 優先度「中」のテストケースが90%以上完了
- 優先度「低」のテストケースが80%以上完了
- 致命的・高優先度の不具合が0件
- 中優先度の不具合が残存する場合、回避策が文書化されている

### 7.2 受け入れテスト完了基準

- 主要シナリオがすべて正常に動作する
- ユーザーが許容できない不具合が0件
- ユーザーマニュアルが整備されている

---

## 8. テスト結果サマリー（テンプレート）

### 8.1 テスト実施状況

| テスト区分         | 計画    | 実施  | 合格  | 不合格 | 進捗率 |
| ------------------ | ------- | ----- | ----- | ------ | ------ |
| ログイン機能       | 7       | -     | -     | -      | -%     |
| ダッシュボード     | 10      | -     | -     | -      | -%     |
| 日報作成           | 16      | -     | -     | -      | -%     |
| 日報編集           | 8       | -     | -     | -      | -%     |
| 日報詳細・コメント | 13      | -     | -     | -      | -%     |
| 顧客マスタ         | 10      | -     | -     | -      | -%     |
| ユーザーマスタ     | 8       | -     | -     | -      | -%     |
| 権限制御           | 9       | -     | -     | -      | -%     |
| 画面遷移           | 11      | -     | -     | -      | -%     |
| パフォーマンス     | 5       | -     | -     | -      | -%     |
| セキュリティ       | 7       | -     | -     | -      | -%     |
| ユーザビリティ     | 8       | -     | -     | -      | -%     |
| データ整合性       | 5       | -     | -     | -      | -%     |
| **合計**           | **117** | **-** | **-** | **-**  | **-%** |

### 8.2 不具合サマリー

| 優先度   | 未対応 | 対応中 | 対応済み | 合計  |
| -------- | ------ | ------ | -------- | ----- |
| 致命的   | -      | -      | -        | -     |
| 高       | -      | -      | -        | -     |
| 中       | -      | -      | -        | -     |
| 低       | -      | -      | -        | -     |
| **合計** | **-**  | **-**  | **-**    | **-** |

---

## 9. 付録

### 9.1 テストデータ準備スクリプト

テストデータを作成するためのSQLスクリプトやシードデータを準備する。

### 9.2 テスト自動化

以下のテストケースは自動化を検討する：

- ログイン機能（TC-001シリーズ）
- バリデーションテスト（TC-003、TC-004の異常系）
- 権限制御テスト（TC-008シリーズ）
- セキュリティテスト（TC-011シリーズ）

### 9.3 リグレッションテスト

機能追加や不具合修正後、以下の重要なテストケースをリグレッションテストとして実施する：

- 全ての優先度「高」のテストケース
- 過去に不具合が発生した箇所に関連するテストケース

---

## 10. 改版履歴

| 版数 | 改版日     | 改版者 | 改版内容 |
| ---- | ---------- | ------ | -------- |
| 1.0  | YYYY/MM/DD | -      | 初版作成 |
